[[ch11]]
== La Sicurezza di Bitcoin

La sicurezza di bitcoin è difficile perché bitcoin non è un riferimento astratto al valore, come il saldo in un conto bancario. Il bitcoin è molto simile al denaro digitale o all'oro. Probabilmente hai sentito l'espressione: "Il possesso è nove decimi della legge"(*). Bene, in bitcoin, il possesso è dieci decimi della legge. Il possesso delle chiavi per sbloccare il bitcoin equivale al possesso di denaro o di un pezzo di metallo prezioso. Puoi perderlo, smarrirlo, rubarlo o dare per sbaglio una somma sbagliata a qualcuno. In ognuno di questi casi, gli utenti non hanno alcun diritto di ricorso, proprio come se avessero perso denaro sulla strada pubblica. (*) Vecchio adagio inglese.

Tuttavia, bitcoin ha una capacità che contanti, oro, e conti bancari non hanno. Un portafoglio bitcoin, contenente le chiavi, può essere sottoposto a backup come un qualsiasi file. Può essere conservato in copie multiple, o addirittura stampato su carta in copia fisica. Non è possibile effettuare un "backup" di contanti, oro, o conti bancari. Bitcoin è così diverso da tutto ciò è esistito fino ad ora che si presenta la necessità di concepire la sua sicurezza in modo completamente nuovo.

=== Principi sulla Sicurezza

((("sicurezza", "principi di sicurezza", id = "Sprinc11"))) ((("sistemi decentralizzati", "sicurezza di"))) Il principio fondamentale di bitcoin è il decentramento ed ha importanti implicazioni per la sicurezza. Un modello centralizzato, come una banca tradizionale o una rete di pagamento, dipende dal controllo degli accessi e dal controllo per tenere fuori dal sistema i cattivi attori. In confronto, un sistema decentralizzato come bitcoin spinge la responsabilità ed il controllo agli utenti. Poiché la sicurezza della rete è basata su Proof of Work, non sul controllo degli accessi, la rete può essere aperta e nessuna crittografia è richiesta per al traffico bitcoin.

Su una rete di pagamento tradizionale, come un sistema di carte di credito, il pagamento è a tempo indeterminato perché contiene l'identificativo privato dell'utente (il numero della carta di credito). Dopo la carica iniziale, chiunque abbia accesso all'identificativo può "prelevare" fondi e addebitarli al proprietario più volte. Pertanto, la rete di pagamento deve essere protetta "end-to-end" con la crittografia e deve garantire che nessun intercettatore o intermediario possa compromettere il traffico dei pagamenti in transito o quando è archiviato (a riposo). Se un malintenzionato ottiene l'accesso al sistema, può compromettere le transazioni correnti e i token di pagamento che possono essere utilizzati per creare nuove transazioni. Peggio ancora, quando i dati dei clienti vengono compromessi, i clienti sono esposti al furto di identità e devono intervenire per prevenire l'uso fraudolento degli account compromessi.

Il sistema bitcoin è sensibilmente diverso. Una transazione bitcoin autorizza esclusivamente un valore specifico ad un destinatario specifico, e non può essere contraffatta o modificata. La transazione infatti non rivela alcuna informazione privata, come l'identità delle parti, e non può essere utilizzata per autorizzare pagamenti successivi. Pertanto, una rete di pagamento bitcoin non ha bisogno di essere criptata o protetta da intercettazioni. Anzi, è possibile persino trasmettere le transazioni bitcoin su un canale pubblico aperto, come reti Wi-Fi o Bluetooth, senza alcuna rischio in termini di sicurezza.

Il modello di sicurezza decentralizzato di Bitcoin mette molto potere nelle mani degli utenti. Questo potere significa la responsabilità di mantenere la segretezza delle chiavi. Per la maggior parte degli utenti non è facile da fare, specialmente su dispositivi informatici per uso generico come smartphone o laptop connessi a Internet. Sebbene il modello decentralizzato di bitcoin prevenga il tipo di compromesso di massa riscontrato con le carte di credito, molti utenti non sono in grado di proteggere adeguatamente le proprie chiavi e di essere hackerate, una per una.


==== Sviluppare Sistemi Bitcoin Sicuri

((("sistemi decentralizzati", "bitcoin as"))) Il principio più importante per gli sviluppatori di bitcoin è il decentramento. La maggior parte degli sviluppatori avrà familiarità con i modelli di sicurezza centralizzati e potrebbe essere tentata di applicare questi modelli alle proprie applicazioni bitcoin, con risultati disastrosi.

La sicurezza di Bitcoin si basa sul controllo decentralizzato delle chiavi e sulla convalida indipendente delle transazioni da parte dei minatori. Se si desidera sfruttare la sicurezza di bitcoin, è necessario assicurarsi di rimanere all'interno del modello di sicurezza bitcoin. In termini semplici: non prendere il controllo delle chiavi lontano dagli utenti e non togliere le transazioni dalla blockchain.

Ad esempio, molti dei primi scambi in bitcoin concentravano tutti i fondi degli utenti in un unico portafoglio "caldo" (chiamato cold wallet ndt) con chiavi memorizzate su un unico server. Tale struttura rimuove il controllo da parte degli utenti e centralizza il controllo delle chiavi in un unico sistema. Molti di questi sistemi sono stati attaccati, con conseguenze disastrose per i loro clienti.

((("transazioni", "fuori blockchain"))) ((("transazioni fuori blockchain"))) Un altro errore comune è quello di portare le transazioni "fuori blockchain", uno sforzo errato per ridurre le spese di transazione o accelerare l'elaborazione delle transazioni. Un sistema "off chain" registra le transazioni su un registro interno centralizzato e solo occasionalmente le sincronizza con il la blockchain di bitcoin. Questa pratica, di nuovo, sostituisce la sicurezza decentralizzata di bitcoin con un approccio proprietario e centralizzato. Quando le transazioni sono fuori dalla blockchain, i registri centralizzati protetti in modo improprio possono essere falsificati, deviando fondi e esaurendo le riserve, senza essere notati.

A meno che non siate disposti a investire pesantemente nella sicurezza operativa, in più livelli di controllo degli accessi e audit (come fanno le banche tradizionali) dovreste riflettere attentamente prima di prendere fondi al di fuori del contesto di sicurezza decentralizzato di bitcoin. Anche se si dispone dei fondi e della disciplina per attuare un solido modello di sicurezza, un tale progetto si limita a replicare il fragile modello delle reti finanziarie tradizionali, afflitto da furto di identità, corruzione e appropriazione indebita. Per sfruttare l'esclusivo modello di sicurezza decentralizzata di bitcoin, è necessario evitare la tentazione di architetture centralizzate che potrebbero sembrare familiari ma che in ultima analisi sovvertono la sicurezza di bitcoin.

==== La Radice della Fiducia

((("root of trust concept"))) L'architettura di sicurezza tradizionale si basa su un concetto chiamato _root of trust_, che è un nucleo fidato utilizzato come base per la sicurezza del sistema o dell'applicazione nel suo complesso. L'architettura di sicurezza si sviluppa intorno alla radice della fiducia come una serie di cerchi concentrici, come gli strati di una cipolla, che estendono la fiducia dal centro verso l'esterno. Ogni livello si basa sul livello interno più affidabile utilizzando i controlli di accesso, le firme digitali, la crittografia e altre primitive di sicurezza. Poiché i sistemi software diventano più complessi, è più probabile che contengano bug, che li rendono vulnerabili ai compromessi di sicurezza. Di conseguenza, più un sistema software diventa complesso, più fragile sarà la sicurezza. La radice del concetto di fiducia garantisce che la maggior parte della fiducia sia collocata all'interno della parte meno complessa del sistema, e quindi meno vulnerabile, mentre su esso è stratificato un software più complesso. Questa architettura di sicurezza si ripete su scale diverse, prima stabilendo una radice di fiducia all'interno dell'hardware di un singolo sistema, estendendo quindi quella radice di fiducia attraverso il sistema operativo a servizi di sistema di livello superiore e infine attraverso molti server stratificati in cerchi concentrici di diminuzione della fiducia.

((("mining and consensus", "security and consensus")))Bitcoin security architecture is different. In bitcoin, the consensus system creates a trusted public ledger that is completely decentralized. A correctly validated blockchain uses the genesis block as the root of trust, building a chain of trust up to the current block. Bitcoin systems can and should use the blockchain as their root of trust. When designing a complex bitcoin application that consists of services on many different systems, you should carefully examine the security architecture in order to ascertain where trust is being placed. Ultimately, the only thing that should be explicitly trusted is a fully validated blockchain. If your application explicitly or implicitly vests trust in anything but the blockchain, that should be a source of concern because it introduces vulnerability. A good method to evaluate the security architecture of your application is to consider each individual component and evaluate a hypothetical scenario where that component is completely compromised and under the control of a malicious actor. Take each component of your application, in turn, and assess the impacts on the overall security if that component is compromised. If your application is no longer secure when components are compromised, that shows you have misplaced trust in those components. A bitcoin application without vulnerabilities should be vulnerable only to a compromise of the bitcoin consensus mechanism, meaning that its root of trust is based on the strongest part of the bitcoin security architecture.

The numerous examples of hacked bitcoin exchanges serve to underscore this point because their security architecture and design fails even under the most casual scrutiny. These centralized implementations had invested trust explicitly in numerous components outside the bitcoin blockchain, such as hot wallets, centralized ledger databases, vulnerable encryption keys, and similar schemes.((("", startref="Sprinc11")))


=== Le "Best Practices" sulla Sicurezza livello Utente

((("security", "user security best practices", id="Suser11")))((("use cases", "user security best practices", id="UCsecurity11")))Humans have used physical security controls for thousands of years. By comparison, our experience with digital security is less than 50 years old. Modern general-purpose operating systems are not very secure and not particularly suited to storing digital money. Our computers are constantly exposed to external threats via always-on internet connections. They run thousands of software components from hundreds of authors, often with unconstrained access to the user's files. A single piece of rogue software, among the many thousands installed on your computer, can compromise your keyboard and files, stealing any bitcoin stored in wallet applications. The level of computer maintenance required to keep a computer virus-free and trojan-free is beyond the skill level of all but a tiny minority of computer users.

Despite decades of research and advancements in information security, digital assets are still woefully vulnerable to a determined adversary. Even the most highly protected and restricted systems, in financial services companies, intelligence agencies, and defense contractors, are frequently breached. Bitcoin creates digital assets that have intrinsic value and can be stolen and diverted to new owners instantly and irrevocably. This creates a massive incentive for hackers. Until now, hackers had to convert identity information or account tokens—such as credit cards and bank accounts—into value after compromising them. Despite the difficulty of fencing and laundering financial information, we have seen ever-escalating thefts. Bitcoin escalates this problem because it doesn't need to be fenced or laundered; it is intrinsic value within a digital asset.

Fortunatamente, bitcoin crea anche gli incentivi per migliorare la sicurezza informatica. Mentre in passato i rischi di compromissione del computer erano vaghi ed indiretti, bitcoin rende questi rischi chiari ed evidenti. Il possesso di bitcoin su computer serve a far meditare l'utente sulla necessità di migliorare la sicurezza del computer. Come diretta conseguenza della proliferazione e dell'aumento di utilizzatori di bitcoin e di altre valute digitali, si è potuta riscontrare un'escalation sia di techniche di hacking che di soluzioni di sicurezza. In parole semplici, gli hacker hanno adesso un obiettivo molto allettante mentre gli utenti hanno un chiaro incentivo per difendersi.

Over the past three years, as a direct result of bitcoin adoption, we have seen tremendous innovation in the realm of information security in the form of hardware encryption, key storage and hardware wallets, multisignature technology, and digital escrow. In the following sections we will examine various best practices for practical user security.

==== Archiviazione Fisica dei Bitcoin

((("storage", "physical bitcoin storage")))((("paper wallets")))((("wallets", "types of", "paper wallets")))((("paper wallets", see="also wallets")))Because most users are far more comfortable with physical security than information security, a very effective method for protecting bitcoin is to convert them into physical form. Bitcoin keys are nothing more than long numbers. This means that they can be stored in a physical form, such as printed on paper or etched on a metal coin. Securing the keys then becomes as simple as physically securing the printed copy of the bitcoin keys. A set of bitcoin keys that is printed on paper is called a "paper wallet," and there are many free tools that can be used to create them. I personally keep the vast majority of my bitcoin (99% or more) stored on paper wallets, encrypted with BIP-38, with multiple copies locked in safes. ((("cold storage")))((("storage", "cold storage")))Keeping bitcoin offline is called _cold storage_ and it is one of the most effective security techniques. A cold storage system is one where the keys are generated on an offline system (one never connected to the internet) and stored offline either on paper or on digital media, such as a USB memory stick.

==== Wallet Hardware

((("wallets", "types of", "hardware wallets")))((("hardware wallets")))In the long term, bitcoin security increasingly will take the form of hardware tamper-proof wallets. Unlike a smartphone or desktop computer, a bitcoin hardware wallet has just one purpose: to hold bitcoin securely. Without general-purpose software to compromise and with limited interfaces, hardware wallets can deliver an almost foolproof level of security to nonexpert users. I expect to see hardware wallets become the predominant method of bitcoin storage. For an example of such a hardware wallet, see the https://trezor.io/[Trezor].

==== Bilanciamento del Rischio

((("risk, balancing and diversifying", seealso="security")))Although most users are rightly concerned about bitcoin theft, there is an even bigger risk. Data files get lost all the time. If they contain bitcoin, the loss is much more painful. In the effort to secure their bitcoin wallets, users must be very careful not to go too far and end up losing the bitcoin. In July 2011, a well-known bitcoin awareness and education project lost almost 7,000 bitcoin. In their effort to prevent theft, the owners had implemented a complex series of encrypted backups. In the end they accidentally lost the encryption keys, making the backups worthless and losing a fortune. Like hiding money by burying it in the desert, if you secure your bitcoin too well you might not be able to find it again.

==== Diversificazione del Rischio

Would you carry your entire net worth in cash in your wallet? Most people would consider that reckless, yet bitcoin users often keep all their bitcoin in a single wallet. Instead, users should spread the risk among multiple and diverse bitcoin wallets. Prudent users will keep only a small fraction, perhaps less than 5%, of their bitcoin in an online or mobile wallet as "pocket change." The rest should be split between a few different storage mechanisms, such as a desktop wallet and offline (cold storage).

==== Multisig and Governance

((("multisig addresses")))((("addresses", "multisig addresses")))Whenever a company or individual stores large amounts of bitcoin, they should consider using a multisignature bitcoin address. Multisignature addresses secure funds by requiring more than one signature to make a payment. The signing keys should be stored in a number of different locations and under the control of different people. In a corporate environment, for example, the keys should be generated independently and held by several company executives, to ensure no single person can compromise the funds. Multisignature addresses can also offer redundancy, where a single person holds several keys that are stored in different locations.

==== Sopravvivenza

((("survivability")))((("digital asset executors")))((("passwords", "survivability and")))((("security", "passwords")))One important security consideration that is often overlooked is availability, especially in the context of incapacity or death of the key holder. Bitcoin users are told to use complex passwords and keep their keys secure and private, not sharing them with anyone. Unfortunately, that practice makes it almost impossible for the user's family to recover any funds if the user is not available to unlock them. In most cases, in fact, the families of bitcoin users might be completely unaware of the existence of the bitcoin funds.

If you have a lot of bitcoin, you should consider sharing access details with a trusted relative or lawyer. A more complex survivability scheme can be set up with multi-signature access and estate planning through a lawyer specialized as a "digital asset executor."((("", startref="Suser11")))((("", startref="UCsecurity11")))

=== Conclusioni

Bitcoin is a completely new, unprecedented, and complex technology. Over time we will develop better security tools and practices that are easier to use by nonexperts. For now, bitcoin users can use many of the tips discussed here to enjoy a secure and trouble-free bitcoin experience.